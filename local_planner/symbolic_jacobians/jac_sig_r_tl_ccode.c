const double t3 = cos(gamma); 
const double t8 = cos(xi); 
const double t9 = t3*t8*v; 
const double t2 = t9+w_n; 
const double t11 = sin(xi); 
const double t12 = t3*t11*v; 
const double t4 = t12+w_e; 
const double t6 = sin(gamma); 
const double t7 = t6*v; 
const double t5 = -t7+w_d; 
const double t10 = p1_h-p2_h; 
const double t13 = t2*t2; 
const double t14 = t4*t4; 
const double t15 = t5*t5; 
const double t16 = t13+t14+t15; 
const double t17 = terr_dis*terr_dis; 
const double t18 = p2_h-p3_h; 
const double t19 = 1.0/g; 
const double t20 = tan(phi_max); 
const double t21 = 1.0/t20; 
const double t22 = k_r*t16*t19*t21; 
const double t24 = t5*t17; 
const double t25 = t2*t10*terr_dis; 
const double t26 = t4*t18*terr_dis; 
const double t27 = -t24+t25+t26; 
const double t28 = 1.0/t27; 
const double t29 = sqrt(t16); 
const double t32 = p1_h+r_d; 
const double t33 = t17*t32; 
const double t34 = p1_h*t17; 
const double t35 = p1_e-r_e; 
const double t36 = t18*t35*terr_dis; 
const double t37 = p1_n-r_n; 
const double t38 = t10*t37*terr_dis; 
const double t39 = t33+t34+t36+t38; 
const double t40 = t28*t29*t39; 
const double t23 = delta_r0+t22-t40; 
const double t30 = delta_r0+t22; 
const double t31 = 1.0/(t30*t30*t30); 
const double t41 = t23*t23; 
const double t42 = t2*t3*t8*2.0; 
const double t43 = t3*t4*t11*2.0; 
const double t45 = t5*t6*2.0; 
const double t44 = t42+t43-t45; 
const double t46 = 1.0/(t27*t27); 
const double t47 = t3*t5*v*2.0; 
const double t48 = t2*t6*t8*v*2.0; 
const double t49 = t4*t6*t11*v*2.0; 
const double t50 = t47+t48+t49; 
const double t51 = 1.0/sqrt(t16); 
const double t52 = 1.0/(t30*t30*t30*t30); 
const double t53 = t3*t4*t8*v*2.0; 
const double t55 = t2*t3*t11*v*2.0; 
const double t54 = t53-t55; 
jac[0] = t10*t28*t29*t31*t41*terr_dis*3.0; 
jac[1] = t18*t28*t29*t31*t41*terr_dis*3.0; 
jac[2] = t17*t28*t29*t31*t41*-3.0; 
jac[3] = t31*t41*(k_r*t19*t21*t44-t28*t39*t44*t51*(1.0/2.0)+t29*t39*t46*(t6*t17+t3*t8*t10*terr_dis+t3*t11*t18*terr_dis))*3.0-k_r*t19*t21*t23*t41*t44*t52*3.0; 
jac[4] = t31*t41*(t29*t39*t46*(-t3*t17*v+t6*t8*t10*terr_dis*v+t6*t11*t18*terr_dis*v)+k_r*t19*t21*t50-t28*t39*t50*t51*(1.0/2.0))*-3.0+k_r*t19*t21*t23*t41*t50*t52*3.0; 
jac[5] = t31*t41*(-k_r*t19*t21*t54+t28*t39*t51*t54*(1.0/2.0)+t29*t39*t46*(t3*t10*t11*terr_dis*v-t3*t8*t18*terr_dis*v))*-3.0-k_r*t19*t21*t23*t41*t52*t54*3.0; 
